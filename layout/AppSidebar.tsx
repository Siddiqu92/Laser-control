import Link from "next/link";
import { useContext } from "react";
import AppMenu from "./AppMenu";
import { LayoutContext } from "./context/layoutcontext";
import { MenuProvider } from "./context/menucontext";
import { LayoutState } from "../types/layout";

const AppSidebar = () => {
    const { setLayoutState } = useContext(LayoutContext);
    const anchor = () => {
        setLayoutState((prevLayoutState: LayoutState) => ({
            ...prevLayoutState,
            anchored: !prevLayoutState.anchored,
        }));
    };
    return (
        <>
            <div className="sidebar-header">
                <Link href="/" className="app-logo">
                    <svg
                        width="142"
                        height="24"
                        viewBox="0 0 142 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        className="app-logo-normal"
                    >
                        <path d="M0 0 C2.475 0.495 2.475 0.495 5 1 C5.495 2.485 5.495 2.485 6 4 C9.465 3.505 9.465 3.505 13 3 C13 3.66 13 4.32 13 5 C12.01 5.556875 11.02 6.11375 10 6.6875 C9.01 7.450625 8.02 8.21375 7 9 C6.49874717 12.66857722 6.49874717 12.66857722 7 16 C7.30550781 15.278125 7.61101563 14.55625 7.92578125 13.8125 C9.39181983 10.83912597 10.76794292 8.45911855 13 6 C18.51446299 4.27095985 23.60510483 5.5265075 28.6875 8 C29.780625 8.66 30.87375 9.32 32 10 C32 10.33 32 10.66 32 11 C30.99839844 10.9071875 29.99679688 10.814375 28.96484375 10.71875 C21.42943528 10.06693746 21.42943528 10.06693746 14.55078125 12.60546875 C12.78107992 14.65156595 11.35998309 16.66428301 10 19 C9.360625 19.99 8.72125 20.98 8.0625 22 C7.5365625 22.99 7.5365625 22.99 7 24 C6.34 23.67 5.68 23.34 5 23 C4.60955794 21.68225804 4.29044914 20.34332728 4 19 C3.34490497 16.99617991 2.68025637 14.99541868 2 13 C1.49632243 14.45706726 0.99717444 15.91570096 0.5 17.375 C0.2215625 18.18710937 -0.056875 18.99921875 -0.34375 19.8359375 C-1.09673305 21.94209242 -1.09673305 21.94209242 -1 24 C-4.62351253 22.79216249 -5.15215236 21.70346858 -7.1875 18.5625 C-7.71730469 17.75941406 -8.24710938 16.95632812 -8.79296875 16.12890625 C-10 14 -10 14 -10 12 C-13.56045177 10.81318274 -16.43808337 10.90310168 -20.1875 10.9375 C-21.45980469 10.94652344 -22.73210938 10.95554687 -24.04296875 10.96484375 C-25.01878906 10.97644531 -25.99460937 10.98804688 -27 11 C-23.11104554 6.84284178 -20.26504618 5.80062626 -14.625 5.4375 C-9.58241859 5.44417008 -9.58241859 5.44417008 -7.203125 7.71484375 C-5.94071677 9.76811361 -4.92049927 11.77471535 -4 14 C-3.67 14.66 -3.34 15.32 -3 16 C-2.49874717 12.66857722 -2.49874717 12.66857722 -3 9 C-5.90412546 6.64677204 -5.90412546 6.64677204 -9 5 C-9 4.34 -9 3.68 -9 3 C-6.69 3.33 -4.38 3.66 -2 4 C-1.34 2.68 -0.68 1.36 0 0 Z M1 6 C1.33 6.99 1.66 7.98 2 9 C2.33 8.01 2.66 7.02 3 6 C2.34 6 1.68 6 1 6 Z " fill="var(--logo-color)" transform="translate(27,0)"/>
                        <path d="M0 0 C6.27 0 12.54 0 19 0 C20.38226016 2.76452033 20.09525387 5.0461363 20.0625 8.125 C20.05347656 9.22070312 20.04445313 10.31640625 20.03515625 11.4453125 C20.02355469 12.28835937 20.01195313 13.13140625 20 14 C18.68 14 17.36 14 16 14 C16 10.37 16 6.74 16 3 C15.01 3 14.02 3 13 3 C12.67 6.63 12.34 10.26 12 14 C10.68 14 9.36 14 8 14 C8 10.37 8 6.74 8 3 C7.01 3 6.02 3 5 3 C4.67 6.63 4.34 10.26 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="var(--logo-color)" transform="translate(107,8)"/>
                        <path d="M0 0 C0 1.32 0 2.64 0 4 C-2.31 4 -4.62 4 -7 4 C-6.10176976 6.3411437 -6.10176976 6.3411437 -3 7.25 C0 9 0 9 1.0625 12 C1 15 1 15 -0.1796875 16.67578125 C-2.62315765 18.45332713 -4.19951143 18.30391514 -7.1875 18.1875 C-8.53908203 18.14689453 -8.53908203 18.14689453 -9.91796875 18.10546875 C-10.60503906 18.07066406 -11.29210937 18.03585938 -12 18 C-12 16.68 -12 15.36 -12 14 C-9.36 14 -6.72 14 -4 14 C-4 13.34 -4 12.68 -4 12 C-4.969375 11.525625 -5.93875 11.05125 -6.9375 10.5625 C-10 9 -10 9 -11 8 C-11.04092937 5.66702567 -11.04241723 3.33294775 -11 1 C-7.2297564 -1.56376565 -4.32597804 -0.83191885 0 0 Z " fill="var(--logo-color)" transform="translate(76,4)"/>
                        <path d="M0 0 C1.27875 -0.061875 2.5575 -0.12375 3.875 -0.1875 C4.95394531 -0.23970703 4.95394531 -0.23970703 6.0546875 -0.29296875 C6.69664063 -0.19628906 7.33859375 -0.09960938 8 0 C10.28062828 3.42094242 10.21925007 4.68187222 10.125 8.6875 C10.10695313 9.68136719 10.08890625 10.67523438 10.0703125 11.69921875 C10.03550781 12.83810547 10.03550781 12.83810547 10 14 C8.18757948 14.02687279 6.37504767 14.04633715 4.5625 14.0625 C3.55316406 14.07410156 2.54382813 14.08570313 1.50390625 14.09765625 C-1 14 -1 14 -2 13 C-2.04080783 11.00041636 -2.04254356 8.99954746 -2 7 C0.31 6.01 2.62 5.02 5 4 C3.35 4 1.7 4 0 4 C0 2.68 0 1.36 0 0 Z M3 8 C2.67 8.99 2.34 9.98 2 11 C3.32 10.67 4.64 10.34 6 10 C6 9.34 6 8.68 6 8 C5.01 8 4.02 8 3 8 Z " fill="var(--logo-color)" transform="translate(95,8)"/>
                        <path d="M0 0 C1.91015625 0.23046875 1.91015625 0.23046875 3.91015625 2.23046875 C4.10546875 5.05078125 4.10546875 5.05078125 4.03515625 8.35546875 C4.01710937 9.45117188 3.9990625 10.546875 3.98046875 11.67578125 C3.95726562 12.51882812 3.9340625 13.361875 3.91015625 14.23046875 C2.09773573 14.25734154 0.28520392 14.2768059 -1.52734375 14.29296875 C-2.53667969 14.30457031 -3.54601562 14.31617188 -4.5859375 14.328125 C-7.08984375 14.23046875 -7.08984375 14.23046875 -8.08984375 13.23046875 C-8.33984375 10.29296875 -8.33984375 10.29296875 -8.08984375 7.23046875 C-4.8619282 5.07852505 -3.80583566 5.02960432 -0.08984375 5.23046875 C-0.08984375 4.57046875 -0.08984375 3.91046875 -0.08984375 3.23046875 C-2.06984375 3.56046875 -4.04984375 3.89046875 -6.08984375 4.23046875 C-6.41984375 3.24046875 -6.74984375 2.25046875 -7.08984375 1.23046875 C-5.19495423 -0.66442077 -2.51845229 0.05027763 0 0 Z M-3.08984375 8.23046875 C-3.41984375 9.22046875 -3.74984375 10.21046875 -4.08984375 11.23046875 C-2.76984375 10.90046875 -1.44984375 10.57046875 -0.08984375 10.23046875 C-0.08984375 9.57046875 -0.08984375 8.91046875 -0.08984375 8.23046875 C-1.07984375 8.23046875 -2.06984375 8.23046875 -3.08984375 8.23046875 Z " fill="var(--logo-color)" transform="translate(137.08984375,7.76953125)"/>
                        <path d="M0 0 C0.99 0 1.98 0 3 0 C3 1.65 3 3.3 3 5 C4.11375 4.95875 5.2275 4.9175 6.375 4.875 C10 5 10 5 12 7 C12.1953125 9.8203125 12.1953125 9.8203125 12.125 13.125 C12.10695313 14.22070312 12.08890625 15.31640625 12.0703125 16.4453125 C12.03550781 17.70988281 12.03550781 17.70988281 12 19 C10.68 19 9.36 19 8 19 C8 15.37 8 11.74 8 8 C7.01 8.33 6.02 8.66 5 9 C4.34 12.3 3.68 15.6 3 19 C2.01 19 1.02 19 0 19 C0 12.73 0 6.46 0 0 Z " fill="var(--logo-color)" transform="translate(79,3)"/>
                        <path d="M0 0 C5.4661847 0.27881211 9.10032055 1.81764637 13.75 4.625 C13.75 4.955 13.75 5.285 13.75 5.625 C12.74839844 5.5321875 11.74679688 5.439375 10.71484375 5.34375 C3.17943528 4.69193746 3.17943528 4.69193746 -3.69921875 7.23046875 C-5.46892008 9.27656595 -6.89001691 11.28928301 -8.25 13.625 C-8.889375 14.615 -9.52875 15.605 -10.1875 16.625 C-10.538125 17.285 -10.88875 17.945 -11.25 18.625 C-11.91 18.295 -12.57 17.965 -13.25 17.625 C-12.0102259 13.9188668 -10.67294897 10.26475369 -9.25 6.625 C-8.86908203 5.60212891 -8.86908203 5.60212891 -8.48046875 4.55859375 C-6.51725116 0.54511936 -4.11405583 0.18726047 0 0 Z " fill="var(--logo-color)" transform="translate(45.25,5.375)"/>
                        <path d="M0 0 C5.04649828 4.19019201 6.46156684 11.8962977 8 18 C4.37648747 16.79216249 3.84784764 15.70346858 1.8125 12.5625 C1.01779297 11.35787109 1.01779297 11.35787109 0.20703125 10.12890625 C-1 8 -1 8 -1 6 C-4.56045177 4.81318274 -7.43808337 4.90310168 -11.1875 4.9375 C-12.45980469 4.94652344 -13.73210938 4.95554687 -15.04296875 4.96484375 C-16.01878906 4.97644531 -16.99460937 4.98804688 -18 5 C-12.92912809 -0.42058721 -7.26056619 -1.43720885 0 0 Z " fill="var(--logo-color)" transform="translate(18,6)"/>
                    </svg>
                </Link>
                <button
                    className="layout-sidebar-anchor p-link z-2 mb-2"
                    type="button"
                    onClick={anchor}
                ></button>
            </div>

            <div className="layout-menu-container">
                <MenuProvider>
                    <AppMenu />
                </MenuProvider>
            </div>
        </>
    );
};

export default AppSidebar;